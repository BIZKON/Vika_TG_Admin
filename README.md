# üîÑ TG-Sync

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Telegram-–∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ –µ–¥–∏–Ω—ã–π —Ö–∞–± –¥–ª—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞.**

–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏: –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–µ–∫–∞—é—Ç—Å—è –≤ –æ–¥–Ω—É –≥—Ä—É–ø–ø—É, –æ—Ç–≤–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
–ê–∫–∫–∞—É–Ω—Ç 1 (—Ä–∞–±–æ—á–∏–π)  ‚îÄ‚îê
  ‚Ä¢ –ì—Ä—É–ø–ø—ã –∫—É—Ä—Å–∞        ‚îÇ
  ‚Ä¢ –õ–° –æ—Ç —É—á–µ–Ω–∏–∫–æ–≤     ‚îÇ‚îÄ‚îÄ‚Üí  –•–ê–ë-–ì–†–£–ü–ü–ê  ‚Üê‚îÄ‚îÄ  –í–∏–∫—Ç–æ—Ä–∏—è —á–∏—Ç–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
                        ‚îÇ        ‚Üë              (–æ–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç, –æ–¥–Ω–æ –æ–∫–Ω–æ)
–ê–∫–∫–∞—É–Ω—Ç 2 (–ª–∏—á–Ω—ã–π)   ‚îÄ‚îò        ‚îÇ
  ‚Ä¢ –õ–° –æ—Ç —É—á–µ–Ω–∏–∫–æ–≤              ‚îÇ
                           –û—Ç–≤–µ—Ç—ã ‚Üí –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —á–∞—Ç—ã
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –µ–¥–∏–Ω—ã–π —Ö–∞–± —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (reply –≤ —Ö–∞–±–µ ‚Üí –æ—Ç–≤–µ—Ç –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —á–∞—Ç–µ)
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è: üî¥ —Å—Ä–æ—á–Ω–æ–µ / üü° –æ–±—ã—á–Ω–æ–µ / üü¢ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞ (—Å—Ç–∏–∫–µ—Ä—ã, "+1", "–æ–∫")
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Mute/unmute –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —á–∞—Ç–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (/status, /stats, /sources, /mute, /unmute)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- –î–≤–∞ Telegram-–∞–∫–∫–∞—É–Ω—Ç–∞ —Å API credentials ([my.telegram.org](https://my.telegram.org))
- Telegram –±–æ—Ç ([BotFather](https://t.me/BotFather))

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ

```bash
git clone <your-repo>
cd tg-sync
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
python setup.py
```

–û–Ω –ø—Ä–æ–≤–µ–¥—ë—Ç –≤–∞—Å —á–µ—Ä–µ–∑:
- –í–≤–æ–¥ API credentials –¥–ª—è –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –±–æ—Ç–∞
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (Telegram –ø—Ä–∏—à–ª—ë—Ç –∫–æ–¥—ã)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID —Ö–∞–±-–≥—Ä—É–ø–ø—ã

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ö–∞–±-–≥—Ä—É–ø–ø—É

1. –°–æ–∑–¥–∞–π—Ç–µ **–ø—Ä–∏–≤–∞—Ç–Ω—É—é –≥—Ä—É–ø–ø—É** –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ **–±–æ—Ç–∞** –≤ –≥—Ä—É–ø–ø—É —Å –ø—Ä–∞–≤–∞–º–∏ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
3. –î–æ–±–∞–≤—å—Ç–µ **–í–∏–∫—Ç–æ—Ä–∏—é** –≤ –≥—Ä—É–ø–ø—É
4. –£–∑–Ω–∞–π—Ç–µ ID –≥—Ä—É–ø–ø—ã (setup.py –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤)
5. –í–ø–∏—à–∏—Ç–µ ID –≤ `.env` ‚Üí `HUB_CHAT_ID`

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
python main.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:

```bash
docker-compose up -d
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|-----------|----------|:-----------:|
| `ACCOUNT_WORK_API_ID` | API ID —Ä–∞–±–æ—á–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| `ACCOUNT_WORK_API_HASH` | API Hash —Ä–∞–±–æ—á–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| `ACCOUNT_WORK_PHONE` | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (+7...) | ‚úÖ |
| `ACCOUNT_PERSONAL_API_ID` | API ID –ª–∏—á–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| `ACCOUNT_PERSONAL_API_HASH` | API Hash –ª–∏—á–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| `ACCOUNT_PERSONAL_PHONE` | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ | ‚úÖ |
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather | ‚úÖ |
| `HUB_CHAT_ID` | ID —Ö–∞–±-–≥—Ä—É–ø–ø—ã | ‚úÖ |
| `MODERATOR_USER_ID` | User ID –í–∏–∫—Ç–æ—Ä–∏–∏ | ‚úÖ |
| `AI_ENABLED` | –í–∫–ª—é—á–∏—Ç—å AI-—á–µ—Ä–Ω–æ–≤–∏–∫–∏ | ‚ùå |
| `REPLY_DELAY_SECONDS` | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º (–∞–Ω—Ç–∏–±–∞–Ω) | ‚ùå |
| `AUTO_REPLY_ENABLED` | –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ | ‚ùå |

---

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ö–∞–±-–≥—Ä—É–ø–ø—É:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/help` | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/status` | –°–≤–æ–¥–∫–∞: –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `/stats` | –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ 7 –¥–Ω–µ–π |
| `/unreplied` | –°–ø–∏—Å–æ–∫ –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π |
| `/sources` | –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —á–∞—Ç—ã |
| `/mute [ID]` | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Å—ã–ª–∫—É –∏–∑ —á–∞—Ç–∞ |
| `/unmute [ID]` | –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Å—ã–ª–∫—É |

### –ö–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å

1. –£–≤–∏–¥–µ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ö–∞–±–µ
2. –°–¥–µ–ª–∞–ª–∏ **reply** —Å —Ç–µ–∫—Å—Ç–æ–º –æ—Ç–≤–µ—Ç–∞
3. –û—Ç–≤–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—à—ë–ª –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–∞—Ç ‚úì

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tg-sync/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ setup.py             # –ü–æ–º–æ—â–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ aggregator.py    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ router.py        # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ storage.py       # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ filters.py       # –§–∏–ª—å—Ç—Ä—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ formatter.py     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îî‚îÄ‚îÄ commands.py      # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ sessions/        # Telethon session-—Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ messages.db      # SQLite –±–∞–∑–∞
‚îÇ   ‚îî‚îÄ‚îÄ tg-sync.log      # –õ–æ–≥–∏
‚îú‚îÄ‚îÄ .env                 # –°–µ–∫—Ä–µ—Ç—ã (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ docker-compose.yml
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –∏ `data/sessions/` –≤ git
- Session-—Ñ–∞–π–ª—ã = –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ 2FA –Ω–∞ –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö
- VPS: –∑–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ –ø–æ—Ä—Ç—ã –∫—Ä–æ–º–µ SSH

```gitignore
# –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore:
.env
data/sessions/
data/*.db
data/*.log
```

---

## FAQ

**Q: –ú–æ–≥—É—Ç –ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç?**
A: –†–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏. –°–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –Ω–µ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–ø–∞–º. –ù–æ Telegram –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö.

**Q: –ß—Ç–æ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è?**
A: Docker restart policy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–∫—Ä–∏–ø—Ç. Session-—Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume.

**Q: –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π –∞–∫–∫–∞—É–Ω—Ç?**
A: –î–∞, –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π `AccountConfig` –≤ `config.py` –∏ credentials –≤ `.env`.

**Q: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å –∫–∞–Ω–∞–ª–∞–º–∏?**
A: –î–∞, –µ—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
